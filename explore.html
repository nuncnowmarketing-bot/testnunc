<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>nunc — explore</title>
  <style>
    :root{
      --bg:#121212;
      --panel:#161616;
      --panel2:#1b1b1b;
      --text:#ffffff;
      --muted:rgba(255,255,255,0.70);
      --hair:rgba(255,255,255,0.12);
      --pill:rgba(255,255,255,0.06);
      --pillHover:rgba(255,255,255,0.10);
      --danger:rgba(255,255,255,0.08);
      --focus:rgba(212,175,55,0.55);
    }

    *{box-sizing:border-box}
    html,body{
      margin:0;
      min-height:100vh;
      background:transparent;
      color:var(--text);
      font-family:Garamond,"EB Garamond","Cormorant Garamond","Times New Roman",serif;
      letter-spacing:0.2px;
      position:relative;
    }

    body::before{
      content:"";
      position:fixed;
      inset:0;
      background:var(--bg);
      z-index:-1;
    }

    a{color:inherit;text-decoration:none}

    .wrap{
      min-height:100%;
      display:flex;
      flex-direction:column;
    }

    header{
      position:sticky;
      top:0;
      background:rgba(18,18,18,0.94);
      border-bottom:1px solid var(--hair);
      z-index:10;
      backdrop-filter:saturate(140%) blur(8px);
    }

    .nav{
      max-width:1080px;
      margin:0 auto;
      padding:18px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }

    .brand{display:flex;align-items:baseline;gap:12px}

    .logo{
      font-size:30px;
      font-weight:600;
      line-height:1;
    }

    .nav-actions{display:flex;gap:10px}

    .pill{
      padding:8px 14px;
      border:1px solid var(--hair);
      border-radius:999px;
      background:var(--pill);
      font-size:14px;
      font-family:inherit;
      display:inline-block;
    }

    .pill:hover{background:var(--pillHover)}

    main{
      flex:1;
      width:100%;
      max-width:1280px;
      margin:0 auto;
      padding:18px 20px 56px;
      display:block;
    }

    .shell{
      width:100%;
      border:1px solid var(--hair);
      background:var(--panel);
      border-radius:0;
      overflow:hidden;
    }

    .shell-header{
      padding:18px 18px 14px;
      border-bottom:1px solid var(--hair);
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
    }

    .shell-title{
      font-size:22px;
      font-weight:600;
      margin:0;
      letter-spacing:0.1px;
    }

    .shell-sub{
      font-size:13px;
      color:var(--muted);
      letter-spacing:0.6px;
      text-transform:uppercase;
      white-space:nowrap;
    }

    .tools{
      padding:14px 18px;
      border-bottom:1px solid var(--hair);
      background:linear-gradient(to bottom, rgba(0,0,0,0.08), rgba(0,0,0,0));
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .searchRow{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }

    .search{
      flex:1;
      min-width:260px;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border:1px solid var(--hair);
      border-radius:14px;
      background:rgba(255,255,255,0.03);
    }

    .searchIcon{
      color:var(--muted);
      font-size:16px;
      line-height:1;
      user-select:none;
    }

    input[type="text"]{
      width:100%;
      border:0;
      outline:none;
      background:transparent;
      color:var(--text);
      font-size:16px;
      font-family:inherit;
      letter-spacing:0.2px;
    }

    input::placeholder{color:rgba(255,255,255,0.45)}

    .btn{
      padding:10px 14px;
      border:1px solid rgba(255,255,255,0.9);
      border-radius:999px;
      background:transparent;
      color:#ffffff;
      font-size:14px;
      font-family:inherit;
      cursor:pointer;
      user-select:none;
    }

    .btn:hover{
      background:rgba(255,255,255,0.08);
    }

    .hint{
      font-size:13px;
      color:var(--muted);
      line-height:1.35;
    }

    .results{
      display:flex;
      flex-direction:column;
    }

    .row{
      display:grid;
      grid-template-columns: 1fr 120px;
      gap:14px;
      padding:14px 18px;
      border-bottom:1px solid var(--hair);
      align-items:center;
      cursor:pointer;
    }

    .row:last-child{border-bottom:none}

    .country{
      font-size:18px;
      font-weight:600;
      line-height:1.2;
      word-wrap:break-word;
      overflow-wrap:anywhere;
    }

    .meta{
      font-size:13px;
      color:var(--muted);
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:6px;
    }

    .dot{
      width:3px;
      height:3px;
      border-radius:999px;
      background:var(--muted);
      opacity:0.6;
      display:inline-block;
      transform:translateY(-1px);
    }

    .go{
      justify-self:end;
      padding:9px 12px;
      border:1px solid var(--hair);
      border-radius:12px;
      background:transparent;
      color:var(--muted);
      font-family:inherit;
      font-size:14px;
      cursor:pointer;
      user-select:none;
    }

    .go:hover{
      color:var(--text);
      background:var(--pill);
    }

    .empty{
      padding:18px;
      color:var(--muted);
      font-size:13px;
    }

    footer{
      border-top:1px solid var(--hair);
      background:var(--panel);
    }

    .foot{
      max-width:1080px;
      margin:0 auto;
      padding:20px;
      font-size:13px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
    }

    @supports (-webkit-touch-callout: none){
      html, body{background:var(--bg);}
    }

    @media (max-width:520px){
      main{padding:12px 12px 48px}
      .row{grid-template-columns:1fr 96px; padding:12px 14px}
      .shell-header{padding:16px 14px 12px}
      .country{font-size:17px}
      .search{min-width:220px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="nav">
        <div class="brand">
          <a class="logo" href="leaderboard.html">nunc</a>
        </div>
        <div class="nav-actions">
          <a class="pill" href="leaderboard.html">leaderboard</a>
          <a class="pill" href="explore.html">explore</a>
          <a class="pill" href="post.html">post</a>
          <a class="pill" href="login.html">log in</a>
        </div>
      </div>
    </header>

    <main>
      <section class="shell" aria-label="Explore countries">
        <div class="shell-header">
          <h2 class="shell-title">Explore</h2>
          <div class="shell-sub">Countries</div>
        </div>

        <div class="tools">
          <div class="searchRow">
            <div class="search" role="search">
              <div class="searchIcon" aria-hidden="true">⌕</div>
              <input id="q" type="text" inputmode="search" autocomplete="off" spellcheck="false"
                     placeholder="Search countries (e.g., Ireland, Japan, South Africa)" />
            </div>
            <button class="btn" id="clearBtn" type="button">clear</button>
            <button class="btn" id="randomBtn" type="button">random</button>
          </div>
          <div class="hint" id="hintText">Type to filter. Press Enter to open the top match.</div>
        </div>

        <div id="results" class="results" aria-live="polite"></div>
        <div id="empty" class="empty" style="display:none">No matches.</div>
      </section>
    </main>

    <footer>
      <div class="foot">
        <div>© nunc</div>
        <div>terms · transparency · ledger</div>
      </div>
    </footer>
  </div>

  <script>
    const countries = [
      'Afghanistan','Albania','Algeria','Andorra','Angola','Antigua and Barbuda','Argentina','Armenia','Australia','Austria',
      'Azerbaijan','Bahamas','Bahrain','Bangladesh','Barbados','Belarus','Belgium','Belize','Benin','Bhutan',
      'Bolivia','Bosnia and Herzegovina','Botswana','Brazil','Brunei','Bulgaria','Burkina Faso','Burundi','Cabo Verde','Cambodia',
      'Cameroon','Canada','Central African Republic','Chad','Chile','China','Colombia','Comoros','Congo','Costa Rica',
      'Côte d’Ivoire','Croatia','Cuba','Cyprus','Czechia','Denmark','Djibouti','Dominica','Dominican Republic','Ecuador',
      'Egypt','El Salvador','Equatorial Guinea','Eritrea','Estonia','Eswatini','Ethiopia','Fiji','Finland','France',
      'Gabon','Gambia','Georgia','Germany','Ghana','Greece','Grenada','Guatemala','Guinea','Guinea-Bissau',
      'Guyana','Haiti','Honduras','Hungary','Iceland','India','Indonesia','Iran','Iraq','Ireland',
      'Israel','Italy','Jamaica','Japan','Jordan','Kazakhstan','Kenya','Kiribati','Kosovo','Kuwait',
      'Kyrgyzstan','Laos','Latvia','Lebanon','Lesotho','Liberia','Libya','Liechtenstein','Lithuania','Luxembourg',
      'Madagascar','Malawi','Malaysia','Maldives','Mali','Malta','Marshall Islands','Mauritania','Mauritius','Mexico',
      'Micronesia','Moldova','Monaco','Mongolia','Montenegro','Morocco','Mozambique','Myanmar','Namibia','Nauru',
      'Nepal','Netherlands','New Zealand','Nicaragua','Niger','Nigeria','North Macedonia','Norway','Oman','Pakistan',
      'Palau','Palestine','Panama','Papua New Guinea','Paraguay','Peru','Philippines','Poland','Portugal','Qatar',
      'Romania','Russia','Rwanda','Saint Kitts and Nevis','Saint Lucia','Saint Vincent and the Grenadines','Samoa','San Marino','Sao Tome and Principe','Saudi Arabia',
      'Senegal','Serbia','Seychelles','Sierra Leone','Singapore','Slovakia','Slovenia','Solomon Islands','Somalia','South Africa','South Korea',
      'South Sudan','Spain','Sri Lanka','Sudan','Suriname','Sweden','Switzerland','Syria','Tajikistan','Tanzania',
      'Thailand','Timor-Leste','Togo','Tonga','Trinidad and Tobago','Tunisia','Turkey','Turkmenistan','Tuvalu','Uganda',
      'Ukraine','United Arab Emirates','United Kingdom','United States','Uruguay','Uzbekistan','Vanuatu','Vatican City','Venezuela','Vietnam',
      'Yemen','Zambia','Zimbabwe'
    ];

    const Q = document.getElementById('q');
    const RESULTS = document.getElementById('results');
    const EMPTY = document.getElementById('empty');
    const CLEAR = document.getElementById('clearBtn');
    const RANDOM = document.getElementById('randomBtn');

    function norm(s){ return (s || '').trim().toLowerCase(); }
    function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    // Stub navigation target: map.html with a query param.
    // If your map page uses a different param name, change `country=`.
    function openCountry(country){
      const url = `map.html?country=${encodeURIComponent(country)}`;
      window.location.href = url;
    }

    function row(country){
      const r = document.createElement('div');
      r.className = 'row';

      const left = document.createElement('div');

      const c = document.createElement('div');
      c.className = 'country';
      c.textContent = country;

      left.appendChild(c);

      const go = document.createElement('button');
      go.className = 'go';
      go.type = 'button';
      go.textContent = 'open';
      go.setAttribute('aria-label', `Open ${country}`);
      go.addEventListener('click', (e) => {
        e.stopPropagation();
        openCountry(country);
      });

      r.appendChild(left);
      r.appendChild(go);

      r.addEventListener('click', () => openCountry(country));

      return r;
    }

    function render(list){
      RESULTS.innerHTML = '';
      if(!list.length){
        EMPTY.style.display = 'block';
        return;
      }
      EMPTY.style.display = 'none';
      const frag = document.createDocumentFragment();
      for(const c of list) frag.appendChild(row(c));
      RESULTS.appendChild(frag);
    }

    function filter(){
      const q = norm(Q.value);
      if(!q){
        render(countries.slice());
        return;
      }
      const out = countries
        .filter(c => norm(c).includes(q))
        .sort((a,b) => {
          const ia = norm(a).indexOf(q);
          const ib = norm(b).indexOf(q);
          if(ia !== ib) return ia - ib;
          return a.localeCompare(b);
        });
      render(out);
    }

    Q.addEventListener('input', filter);

    Q.addEventListener('keydown', (e) => {
      if(e.key === 'Enter'){
        const q = norm(Q.value);
        const out = !q
          ? countries.slice()
          : countries.filter(c => norm(c).includes(q)).sort((a,b)=>{
              const ia = norm(a).indexOf(q);
              const ib = norm(b).indexOf(q);
              if(ia !== ib) return ia - ib;
              return a.localeCompare(b);
            });
        if(out.length) openCountry(out[0]);
      }
      if(e.key === 'Escape'){
        Q.value = '';
        filter();
      }
    });

    CLEAR.addEventListener('click', () => {
      Q.value = '';
      Q.focus();
      filter();
    });

    RANDOM.addEventListener('click', () => {
      openCountry(rand(countries));
    });

    // Initial render
    render(countries.slice());
  </script>
</body>
</html>
